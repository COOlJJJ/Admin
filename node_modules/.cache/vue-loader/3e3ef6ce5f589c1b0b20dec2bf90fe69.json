{"remainingRequest":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\src\\views\\permission\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\src\\views\\permission\\user.vue","mtime":1649429433630},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IGdldFVzZXJMaXN0LCBhZGRVc2VyLCBlZGl0VXNlciwgY2hhbmdlU3RhdHVzLCBkZWxldGVVc2VyLCBnaXZlUm9sZXMgfSBmcm9tICdAL2FwaS91c2VyJw0KaW1wb3J0IHsgZ2V0Um9sZUxpc3QgfSBmcm9tICdAL2FwaS9yb2xlJw0KaW1wb3J0IHsgcGFyYW0gfSBmcm9tICdAL3V0aWxzJw0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICAvL+mqjOivgemCrueuseeahOinhOWImQ0KICAgIHZhciBjaGVja0VtYWlsID0gKHJ1bGUsIHZhbHVlLCBjYikgPT4gew0KICAgICAgY29uc3QgcmVnRW1haWwgPSAvXlthLXpBLVowLTlfLi1dK0BbYS16QS1aMC05LV0rKFwuW2EtekEtWjAtOS1dKykqXC5bYS16QS1aMC05XXsyLDZ9JC8NCiAgICAgIGlmIChyZWdFbWFpbC50ZXN0KHZhbHVlKSkgew0KICAgICAgICAvLyDlkIjms5UNCiAgICAgICAgcmV0dXJuIGNiKCkNCiAgICAgIH0NCiAgICAgIGNiKG5ldyBFcnJvcign6K+36L6T5YWl5ZCI5rOV55qE6YKu566xJykpDQogICAgfQ0KICAgIC8v6aqM6K+B5omL5py65Y+355qE6KeE5YiZDQogICAgdmFyIGNoZWNrTW9iaWxlID0gKHJ1bGUsIHZhbHVlLCBjYikgPT4gew0KICAgICAgY29uc3QgcmVnTW9iaWxlID0gL14oKDEzWzAtOV0pfCgxNFs1LDcsOV0pfCgxNVteNF0pfCgxOFswLTldKXwoMTdbMCwxLDMsNSw2LDcsOF0pKVswLTldezh9JC8NCiAgICAgIGlmIChyZWdNb2JpbGUudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgLy8g5ZCI5rOVDQogICAgICAgIHJldHVybiBjYigpDQogICAgICB9DQogICAgICBjYihuZXcgRXJyb3IoJ+ivt+i+k+WFpeWQiOazleeahOaJi+acuuWPtycpKQ0KICAgIH0NCg0KICAgIHJldHVybiB7DQogICAgICAvL+iOt+WPlueUqOaIt+WIl+ihqOeahOWPguaVsOWvueixoQ0KICAgICAgcXVlcnlJbmZvOiB7DQogICAgICAgIHF1ZXJ5OiAnJywgLy/mn6Xor6Llj4LmlbANCiAgICAgICAgcGFnZW51bTogMSwgLy/lvZPliY3pobXmlbANCiAgICAgICAgcGFnZXNpemU6IDUgLy/lvZPliY3mr4/pobXmmL7npLrmnaHmlbANCiAgICAgIH0sDQogICAgICB1c2VybGlzdDogW10sDQogICAgICByb2xlbGlzdDogW10sDQogICAgICB0b3RhbDogMCwNCiAgICAgIC8vIOaOp+WItuaYr+WQpuaYvuekuua3u+WKoOeUqOaIt+Wvueivneahhg0KICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICAvLyDmjqfliLbmmK/lkKbmmL7npLrkv67mlLnnlKjmiLflr7nor53moYYNCiAgICAgIGVkaXREaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8v5o6n5Yi25piv5ZCm5pi+56S65YiG6YWN55So5oi36KeS6Imy5a+56K+d5qGGDQogICAgICBnaXZlRGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICAvLyDmt7vliqDnlKjmiLfnmoTooajljZXmlbDmja4NCiAgICAgIGFkZEZvcm06IHsNCiAgICAgICAgYWNjb3VudDogJycsDQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgICBlbWFpbDogJycsDQogICAgICAgIHJlbWFyazogJycNCiAgICAgIH0sDQogICAgICAvLyDkv67mlLnnlKjmiLfnmoTooajljZXmlbDmja4NCiAgICAgIGVkaXRGb3JtOiB7DQogICAgICAgIGFjY291bnQ6ICcnLA0KICAgICAgICB1c2VyaWQ6ICcnLA0KICAgICAgICB1c2VybmFtZTogJycsDQogICAgICAgIGVtYWlsOiAnJywNCiAgICAgICAgcmVtYXJrOiAnJw0KICAgICAgfSwNCiAgICAgIC8v57uZ55So5oi35YiG6YWN6KeS6ImyDQogICAgICBnaXZlRm9ybTogew0KICAgICAgICB1c2VyaWQ6ICcnLA0KICAgICAgICBhY2NvdW50OiAnJywNCiAgICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgICByb2xlczogJycsDQogICAgICAgIG5ld3JvbGU6IFtdDQogICAgICB9LA0KICAgICAgLy8g57qn6IGU5Zmo6YWN572u5a+56LGhDQogICAgICAvLyBjYXRlUHJvcHM6IHsNCiAgICAgIC8vICAgdmFsdWU6ICdjYXRfaWQnLCANCiAgICAgIC8vICAgbGFiZWw6ICdjYXRfbmFtZScsDQogICAgICAvLyAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nDQogICAgICAvLyB9LA0KICAgICAgLy8g5re75Yqg55So5oi36KGo5Y2V55qE6aqM6K+B6KeE5YiZ5a+56LGhDQogICAgICBhZGRGb3JtUnVsZXM6IHsNCiAgICAgICAgLy8g6aqM6K+B55So5oi35ZCN5piv5ZCm5ZCI5rOVDQogICAgICAgIGFjY291bnQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6LSm5Y+3JywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgIF0sDQogICAgICAgIC8vIOmqjOivgeeUqOaIt+WQjeaYr+WQpuWQiOazlQ0KICAgICAgICB1c2VybmFtZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLCB0cmlnZ2VyOiAnYmx1cicgfSwNCiAgICAgICAgICB7IG1pbjogMywgbWF4OiA1LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDUg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgLy8gIOmqjOivgeWvhueggeaYr+WQpuWQiOazlQ0KICAgICAgICBwYXNzd29yZDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfSwNCiAgICAgICAgICB7IG1pbjogNiwgbWF4OiAxNSwgbWVzc2FnZTogJ+mVv+W6puWcqCA2IOWIsCAxNSDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBlbWFpbDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemCrueusScsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tFbWFpbCwNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgLy8gbW9iaWxlOiBbDQogICAgICAgIC8vICAgew0KICAgICAgICAvLyAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIC8vICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+3JywNCiAgICAgICAgLy8gICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAvLyAgIH0sDQogICAgICAgIC8vICAgew0KICAgICAgICAvLyAgICAgdmFsaWRhdG9yOiBjaGVja01vYmlsZSwNCiAgICAgICAgLy8gICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8gXQ0KICAgICAgfSwNCiAgICAgIC8vIOe8lui+keS/oeaBr+mqjOivgeinhOWImQ0KICAgICAgZWRpdEZvcm1SdWxlczogew0KICAgICAgICBlbWFpbDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemCrueusScsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tFbWFpbCwNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgLy8gbW9iaWxlOiBbDQogICAgICAgIC8vICAgew0KICAgICAgICAvLyAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIC8vICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+3JywNCiAgICAgICAgLy8gICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAvLyAgIH0sDQogICAgICAgIC8vICAgew0KICAgICAgICAvLyAgICAgdmFsaWRhdG9yOiBjaGVja01vYmlsZSwNCiAgICAgICAgLy8gICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8gXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldFVzZXJMaXN0KCkNCiAgICB0aGlzLmdldFJvbGVMaXN0KCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v6I635Y+W6KeS6Imy5YiX6KGo5L+h5oGvDQogICAgYXN5bmMgZ2V0Um9sZUxpc3QoKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRSb2xlTGlzdCgpDQogICAgICB0aGlzLnJvbGVsaXN0ID0gcmVzLnJlc3BvbnNlDQogICAgfSwNCiAgICAvL+iOt+WPlueUqOaIt+S/oeaBrw0KICAgIGFzeW5jIGdldFVzZXJMaXN0KCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0VXNlckxpc3QodGhpcy5xdWVyeUluZm8pDQogICAgICB0aGlzLnVzZXJsaXN0ID0gcmVzLnJlc3BvbnNlLnVzZXJMaXN0DQogICAgICB0aGlzLnRvdGFsID0gcmVzLnJlc3BvbnNlLnRvdGFscGFnZQ0KICAgIH0sDQogICAgLy8g55uR5ZCscGFnZXNpemXmlLnlj5jnmoTkuovku7YNCiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1NpemUpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VzaXplID0gbmV3U2l6ZQ0KICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpIC8v5pyA5paw5pWw5o2uDQogICAgfSwNCiAgICAvLyDnm5HlkKzpobXnoIHlgLzmlLnlj5jnmoTkuovku7YNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2UpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VudW0gPSBuZXdQYWdlDQogICAgICB0aGlzLmdldFVzZXJMaXN0KCkgLy/mnIDmlrDmlbDmja4NCiAgICB9LA0KICAgIC8v55uR5ZCsIHN3aXRjaOW8gOWFs+eKtuaAgeeahOaUueWPmA0KICAgIGFzeW5jIHVzZXJTdGF0ZUNoYW5nZWQodXNlcmluZm8pIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNoYW5nZVN0YXR1cygNCiAgICAgICAgew0KICAgICAgICAgIC8v6L+Z5pivZ2V06K+35rGC5Lyg5Y+C5pa55rOVIOWFtuS4reWPguaVsOi/mOaYr+WKqOaAgeeahCDpnIDopoHnlKjlj43lvJXlj7cgDQogICAgICAgICAgdXNlcmlkOiBgJHt1c2VyaW5mby5pZH1gLCAvL+S9v+eUqOWPjeW8leWPtyDliqjmgIHlj4LmlbDmi7zmjqUNCiAgICAgICAgICBzdGF0dXM6IGAke3VzZXJpbmZvLnN0YXR1c31gDQogICAgICAgIH0NCiAgICAgICkNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMSkgew0KICAgICAgICAvLyB1c2VyaW5mby5zdGF0dXMgPSAhdXNlcmluZm8uc3RhdHVzIC8v5aSx6LSl55qE6K+d5bCx6L+U5Zue5LmL5YmN55qE57uT5p6cIOeUqOS6jmJvb2wNCiAgICAgICAgaWYgKHVzZXJpbmZvLnN0YXR1cyA9PSAnMScpIHsNCiAgICAgICAgICB1c2VyaW5mby5zdGF0dXMgPSAnMCcNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB1c2VyaW5mby5zdGF0dXMgPSAnMScNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5pu05paw55So5oi354q25oCB5aSx6LSlIScpDQogICAgICB9DQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOeUqOaIt+eKtuaAgeaIkOWKnyEnKQ0KICAgIH0sDQogICAgLy8g55uR5ZCs5re75Yqg55So5oi35a+56K+d5qGG5YWz6Zet5LqL5Lu2DQogICAgYWRkRGlhbG9nQ2xvc2VkKCkgew0KICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnJlc2V0RmllbGRzKCkgLy/ooajljZXph43nva4NCiAgICB9LA0KICAgIC8vIOebkeWQrOa3u+WKoOeUqOaIt+WvueivneahhuWFs+mXreS6i+S7tg0KICAgIGdpdmVEaWFsb2dDbG9zZWQoKSB7DQogICAgICB0aGlzLmdpdmVGb3JtLm5ld3JvbGUgPSAwDQogICAgfSwNCiAgICAvLyDngrnlh7vmjInpkq4s5re75Yqg5paw55So5oi3DQogICAgYWRkVXNlcigpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWlsZCA9PiB7DQogICAgICAgIGlmICghdmFpbGQpIHsNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICAvL+WPkei1t+a3u+WKoOeUqOaIt+eahOe9kei3r+ivt+axgiBwb3N06K+35rGC6L+U5ZuecHJvbWlzZeWvueixoSDnroDljJZwcm9taXNl5pON5L2cIOino+aehGRhdGHlsZ7mgKfph43lkb3lkI3kuLpSZXMNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5hZGRGb3JtKTsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWRkVXNlcih0aGlzLmFkZEZvcm0pDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJykNCg0KICAgICAgICAvL+makOiXj+a3u+WKoOeUqOaIt+Wvueivneahhg0KICAgICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAvL+WIt+aWsOWIl+ihqCDph43mlrDosIPnlKhnZXRVc2VyTGlzdA0KICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmmL7npLrnvJbovpHnlKjmiLflr7nor53moYYg6L+Z6L6555u05o6l5L2/55So6aG16Z2i55qE5pys5Zyw5pWw5o2uIOivt+axguaVsOaNruW6k+WPr+S7peS/neivgeaVsOaNrueahOaXtuaViOaApw0KICAgIHNob3dFZGl0RGlhbG9nKHJvdykgew0KICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICAgIHRoaXMuZWRpdEZvcm0udXNlcmlkID0gcm93LmlkDQogICAgICB0aGlzLmVkaXRGb3JtLmFjY291bnQgPSByb3cuYWNjb3VudA0KICAgICAgdGhpcy5lZGl0Rm9ybS51c2VybmFtZSA9IHJvdy51c2VyTmFtZQ0KICAgICAgdGhpcy5lZGl0Rm9ybS5lbWFpbCA9IHJvdy5lbWFpbA0KICAgICAgdGhpcy5lZGl0Rm9ybS5yZW1hcmsgPSByb3cucmVNYXJrDQogICAgfSwNCiAgICAvLyDnm5HlkKzkv67mlLnnlKjmiLflr7nor53moYbnmoTlhbPpl63kuovku7YNCiAgICBlZGl0RGlhbG9nQ2xvc2VkKCkgew0KICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi5yZXNldEZpZWxkcygpDQogICAgfSwNCiAgICAvLyDkv67mlLnnlKjmiLfkv6Hmga/lubbmj5DkuqQNCiAgICBlZGl0VXNlcigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFpbGQgPT4gew0KICAgICAgICBpZiAoIXZhaWxkKSB7DQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZWRpdFVzZXIodGhpcy5lZGl0Rm9ybSkNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKQ0KICAgICAgICAvL+makOiXj+a3u+WKoOeUqOaIt+Wvueivneahhg0KICAgICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgLy/liLfmlrDliJfooagg6YeN5paw6LCD55SoZ2V0VXNlckxpc3QNCiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5qC55o2u55So5oi35Yig6Zmk5a+55bqU55qE55So5oi3IOW8ueahhuWFqOWxgOWPr+eUqA0KICAgIGFzeW5jIHJlbW92ZVVzZXJCeUlkKGlkKSB7DQogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLiRjb25maXJtKA0KICAgICAgICAn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/JywNCiAgICAgICAgJ+aPkOekuicsDQogICAgICAgIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgIH0NCiAgICAgICkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgcmV0dXJuIGVycg0KICAgICAgfSkNCiAgICAgIC8vIOWmguaenOeUqOaIt+eCueWHu+ehruiupOi0vOi/lOWbnuWtl+espuS4siBjb25maXJtDQogICAgICAvLyBjYW5jZWwg5Y+W5raI5Yig6ZmkDQogICAgICBpZiAocmVzdWx0ICE9PSAnY29uZmlybScpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuaW5mbygn5bey57uP5Y+W5raI5Yig6ZmkJykNCiAgICAgIH0NCiAgICAgIC8v5Y+R6LW35L+u5pS555So5oi355qE572R6Lev6K+35rGCIHBvc3Tor7fmsYLov5Tlm55wcm9taXNl5a+56LGhIOeugOWMlnByb21pc2Xmk43kvZwg6Kej5p6EZGF0YeWxnuaAp+mHjeWRveWQjeS4ulJlcw0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZXRlVXNlcihpZCkNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJykNCiAgICAgIC8v5Yi35paw5YiX6KGoIOmHjeaWsOiwg+eUqGdldFVzZXJMaXN0DQogICAgICB0aGlzLmdldFVzZXJMaXN0KCkNCiAgICB9LA0KICAgIC8v5pi+56S65YiG6YWN6KeS6Imy5a+56K+d5qGGDQogICAgc2hvd0dpdmVSb2xlRGlhbG9nKHJvdykgew0KICAgICAgdGhpcy5naXZlRm9ybS51c2VyaWQgPSByb3cuaWQNCiAgICAgIHRoaXMuZ2l2ZUZvcm0uYWNjb3VudCA9IHJvdy5hY2NvdW50DQogICAgICB0aGlzLmdpdmVGb3JtLnVzZXJuYW1lID0gcm93LnVzZXJOYW1lDQogICAgICB0aGlzLmdpdmVGb3JtLnJvbGVzID0gcm93LnJvbGVzDQogICAgICB0aGlzLmdpdmVEaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQogICAgLy/liIbphY3op5LoibINCiAgICBhc3luYyBnaXZlUm9sZSgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdpdmVSb2xlcyh7IHVzZXJpZDogdGhpcy5naXZlRm9ybS51c2VyaWQsIG5ld3JvbGU6IHRoaXMuZ2l2ZUZvcm0ubmV3cm9sZSB9KQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliIbphY3op5LoibLmiJDlip8nKQ0KICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpDQogICAgICAvL+WFs+mXreWvueivneahhg0KICAgICAgdGhpcy5naXZlRGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwOA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/views/permission","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- gutter列间距 row行 col列 :span列宽 -->\r\n      <el-row :gutter=\"20\" style=\"margin-bottom: 30px\">\r\n        <el-col :span=\"7\">\r\n          <!-- placeholder 默认提示 @clear绑定获取用户信息事件-->\r\n          <el-input\r\n            @clear=\"getUserList\"\r\n            clearable\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n          >\r\n            <el-button\r\n              @click=\"getUserList\"\r\n              icon=\"el-icon-search\"\r\n              slot=\"append\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button @click=\"addDialogVisible = true\" type=\"primary\"\r\n            >添加用户</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 用户列表区域 border边框线 stripe斑马线 type=\"index\"索引列-->\r\n      <el-table :data=\"userlist\" border stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"账号\" prop=\"account\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"userName\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <!-- <el-table-column label=\"电话\" prop=\"mobile_phone\"></el-table-column> -->\r\n        <el-table-column label=\"角色\" prop=\"roles\"></el-table-column>\r\n        <el-table-column label=\"备注\" prop=\"reMark\"></el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <!-- 作用域插槽 slot-scope接收作用域数据 .row接收当前行数据 -->\r\n          <template slot-scope=\"scope\">\r\n            <!-- switch开关 v-model双向绑定数据 Num不支持貌似有Bug 使用string类型 -->\r\n            <el-switch\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              @change=\"userStateChanged(scope.row)\"\r\n              v-model=\"scope.row.status\"\r\n              active-value=\"1\"\r\n              inactive-value=\"0\"\r\n            ></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button\r\n              @click=\"showEditDialog(scope.row)\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n            ></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              @click=\"removeUserById(scope.row.id)\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n            ></el-button>\r\n            <!-- 分配角色 -->\r\n            <el-tooltip\r\n              :enterable=\"false\"\r\n              content=\"分配角色\"\r\n              effect=\"dark\"\r\n              placement=\"top-start\"\r\n            >\r\n              <el-button\r\n                @click=\"showGiveRoleDialog(scope.row)\"\r\n                icon=\"el-icon-setting\"\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- @size-change事件绑定  layout界面组件 取当前页和每页显示条数来取对应的数据-->\r\n      <div style=\"margin-top: 20px\">\r\n        <el-pagination\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          :page-sizes=\"[1, 2, 5, 10]\"\r\n          :total=\"total\"\r\n          @current-change=\"handleCurrentChange\"\r\n          @size-change=\"handleSizeChange\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n        ></el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <!-- 这是下拉框选择组件 v-model双向绑定数据将选中的值保存 label显示的名称 value记录真正的值 一般key和value使用ID -->\r\n    <!-- <el-select v-model=\"value\" placeholder=\"请选择\">\r\n    <el-option\r\n      v-for=\"item in options\"\r\n      :key=\"item.value\"\r\n      :label=\"item.label\"\r\n      :value=\"item.value\">\r\n    </el-option>\r\n    </el-select>-->\r\n    <!-- 联级子菜单 options数据源  Id值绑定 props配置对象 v-model数据应该是个数组-->\r\n    <!-- <el-cascader\r\n    expandTrigger: 'hover' \r\n      :options=\"options\"\r\n      :props=\"cateProps\"\r\n      @change=\"handleChange\"\r\n      v-model=\"value\"\r\n    ></el-cascader>-->\r\n\r\n    <!-- 添加用户的对话框 visible.sync控制显示和隐藏的Bool -->\r\n    <el-dialog\r\n      :visible.sync=\"addDialogVisible\"\r\n      @close=\"addDialogClosed\"\r\n      title=\"添加用户\"\r\n      width=\"35%\"\r\n    >\r\n      <!-- 内容主体区域 ：model绑定addForm中 v-model绑定表单的数据项=》addForm prop验证规则的属性-->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        label-width=\"70px\"\r\n        ref=\"addFormRef\"\r\n      >\r\n        <el-form-item label=\"账号\" prop=\"account\">\r\n          <el-input v-model=\"addForm.account\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"addForm.remark\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 slot=\"footer\" 可以理解为内容插槽 被设置Dom的位置 footer为底部-->\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"addUser\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改用户的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"editDialogVisible\"\r\n      @close=\"editDialogClosed\"\r\n      title=\"修改用户\"\r\n      width=\"35%\"\r\n    >\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"editFormRules\"\r\n        label-width=\"70px\"\r\n        ref=\"editFormRef\"\r\n      >\r\n        <el-form-item label=\"账号\" prop=\"account\">\r\n          <el-input disabled v-model=\"editForm.account\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input disabled v-model=\"editForm.username\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input disabled v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"editForm.remark\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"editUser()\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 分配用户角色的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"giveDialogVisible\"\r\n      @close=\"giveDialogClosed\"\r\n      title=\"分配角色\"\r\n      width=\"35%\"\r\n    >\r\n      <el-form :model=\"giveForm\" label-width=\"100px\" ref=\"giveFormRef\">\r\n        <el-form-item label=\"当前账号:\">\r\n          <span>{{ giveForm.account }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前用户:\">\r\n          <span>{{ giveForm.username }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前角色:\">\r\n          <span>{{ giveForm.roles }} </span>\r\n        </el-form-item>\r\n        <el-form-item label=\"分配新角色:\">\r\n          <el-select\r\n            multiple\r\n            v-model=\"giveForm.newrole\"\r\n            collapse-tags\r\n            placeholder=\"请选择角色\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in rolelist\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"giveDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"giveRole()\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getUserList, addUser, editUser, changeStatus, deleteUser, giveRoles } from '@/api/user'\r\nimport { getRoleList } from '@/api/role'\r\nimport { param } from '@/utils'\r\n\r\n\r\nexport default {\r\n  data() {\r\n    //验证邮箱的规则\r\n    var checkEmail = (rule, value, cb) => {\r\n      const regEmail = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/\r\n      if (regEmail.test(value)) {\r\n        // 合法\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的邮箱'))\r\n    }\r\n    //验证手机号的规则\r\n    var checkMobile = (rule, value, cb) => {\r\n      const regMobile = /^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))[0-9]{8}$/\r\n      if (regMobile.test(value)) {\r\n        // 合法\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的手机号'))\r\n    }\r\n\r\n    return {\r\n      //获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: '', //查询参数\r\n        pagenum: 1, //当前页数\r\n        pagesize: 5 //当前每页显示条数\r\n      },\r\n      userlist: [],\r\n      rolelist: [],\r\n      total: 0,\r\n      // 控制是否显示添加用户对话框\r\n      addDialogVisible: false,\r\n      // 控制是否显示修改用户对话框\r\n      editDialogVisible: false,\r\n      //控制是否显示分配用户角色对话框\r\n      giveDialogVisible: false,\r\n      // 添加用户的表单数据\r\n      addForm: {\r\n        account: '',\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        remark: ''\r\n      },\r\n      // 修改用户的表单数据\r\n      editForm: {\r\n        account: '',\r\n        userid: '',\r\n        username: '',\r\n        email: '',\r\n        remark: ''\r\n      },\r\n      //给用户分配角色\r\n      giveForm: {\r\n        userid: '',\r\n        account: '',\r\n        username: '',\r\n        roles: '',\r\n        newrole: []\r\n      },\r\n      // 级联器配置对象\r\n      // cateProps: {\r\n      //   value: 'cat_id', \r\n      //   label: 'cat_name',\r\n      //   children: 'children'\r\n      // },\r\n      // 添加用户表单的验证规则对象\r\n      addFormRules: {\r\n        // 验证用户名是否合法\r\n        account: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' },\r\n        ],\r\n        // 验证用户名是否合法\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n        ],\r\n        //  验证密码是否合法\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '请输入邮箱',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkEmail,\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        // mobile: [\r\n        //   {\r\n        //     required: true,\r\n        //     message: '请输入手机号',\r\n        //     trigger: 'blur'\r\n        //   },\r\n        //   {\r\n        //     validator: checkMobile,\r\n        //     trigger: 'blur'\r\n        //   }\r\n        // ]\r\n      },\r\n      // 编辑信息验证规则\r\n      editFormRules: {\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '请输入邮箱',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkEmail,\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        // mobile: [\r\n        //   {\r\n        //     required: true,\r\n        //     message: '请输入手机号',\r\n        //     trigger: 'blur'\r\n        //   },\r\n        //   {\r\n        //     validator: checkMobile,\r\n        //     trigger: 'blur'\r\n        //   }\r\n        // ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList()\r\n    this.getRoleList()\r\n  },\r\n  methods: {\r\n    //获取角色列表信息\r\n    async getRoleList() {\r\n      const res = await getRoleList()\r\n      this.rolelist = res.response\r\n    },\r\n    //获取用户信息\r\n    async getUserList() {\r\n      const res = await getUserList(this.queryInfo)\r\n      this.userlist = res.response.userList\r\n      this.total = res.response.totalpage\r\n    },\r\n    // 监听pagesize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getUserList() //最新数据\r\n    },\r\n    // 监听页码值改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage\r\n      this.getUserList() //最新数据\r\n    },\r\n    //监听 switch开关状态的改变\r\n    async userStateChanged(userinfo) {\r\n      const res = await changeStatus(\r\n        {\r\n          //这是get请求传参方法 其中参数还是动态的 需要用反引号 \r\n          userid: `${userinfo.id}`, //使用反引号 动态参数拼接\r\n          status: `${userinfo.status}`\r\n        }\r\n      )\r\n      if (res.status == 201) {\r\n        // userinfo.status = !userinfo.status //失败的话就返回之前的结果 用于bool\r\n        if (userinfo.status == '1') {\r\n          userinfo.status = '0'\r\n        } else {\r\n          userinfo.status = '1'\r\n        }\r\n        return this.$message.error('更新用户状态失败!')\r\n      }\r\n      this.$message.success('更新用户状态成功!')\r\n    },\r\n    // 监听添加用户对话框关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields() //表单重置\r\n    },\r\n    // 监听添加用户对话框关闭事件\r\n    giveDialogClosed() {\r\n      this.giveForm.newrole = 0\r\n    },\r\n    // 点击按钮,添加新用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async vaild => {\r\n        if (!vaild) {\r\n          return\r\n        }\r\n        //发起添加用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n        console.log(this.addForm);\r\n        const res = await addUser(this.addForm)\r\n        this.$message.success('添加成功')\r\n\r\n        //隐藏添加用户对话框\r\n        this.addDialogVisible = false\r\n        //刷新列表 重新调用getUserList\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 显示编辑用户对话框 这边直接使用页面的本地数据 请求数据库可以保证数据的时效性\r\n    showEditDialog(row) {\r\n      this.editDialogVisible = true\r\n      this.editForm.userid = row.id\r\n      this.editForm.account = row.account\r\n      this.editForm.username = row.userName\r\n      this.editForm.email = row.email\r\n      this.editForm.remark = row.reMark\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改用户信息并提交\r\n    editUser() {\r\n      this.$refs.editFormRef.validate(async vaild => {\r\n        if (!vaild) {\r\n          return\r\n        }\r\n        const res = await editUser(this.editForm)\r\n        this.$message.success('修改成功')\r\n        //隐藏添加用户对话框\r\n        this.editDialogVisible = false\r\n        //刷新列表 重新调用getUserList\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 根据用户删除对应的用户 弹框全局可用\r\n    async removeUserById(id) {\r\n      const result = await this.$confirm(\r\n        '此操作将永久删除该用户, 是否继续?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).catch(err => {\r\n        return err\r\n      })\r\n      // 如果用户点击确认贼返回字符串 confirm\r\n      // cancel 取消删除\r\n      if (result !== 'confirm') {\r\n        return this.$message.info('已经取消删除')\r\n      }\r\n      //发起修改用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n      const res = await deleteUser(id)\r\n      this.$message.success('删除成功')\r\n      //刷新列表 重新调用getUserList\r\n      this.getUserList()\r\n    },\r\n    //显示分配角色对话框\r\n    showGiveRoleDialog(row) {\r\n      this.giveForm.userid = row.id\r\n      this.giveForm.account = row.account\r\n      this.giveForm.username = row.userName\r\n      this.giveForm.roles = row.roles\r\n      this.giveDialogVisible = true\r\n    },\r\n    //分配角色\r\n    async giveRole() {\r\n      const res = await giveRoles({ userid: this.giveForm.userid, newrole: this.giveForm.newrole })\r\n      this.$message.success('分配角色成功')\r\n      this.getUserList()\r\n      //关闭对话框\r\n      this.giveDialogVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>"]}]}