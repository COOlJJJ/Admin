{"remainingRequest":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\src\\views\\permission\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\src\\views\\permission\\user.vue","mtime":1649291853621},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IGdldFVzZXJMaXN0IH0gZnJvbSAnQC9hcGkvdXNlcicNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIC8v6aqM6K+B6YKu566x55qE6KeE5YiZDQogICAgdmFyIGNoZWNrRW1haWwgPSAocnVsZSwgdmFsdWUsIGNiKSA9PiB7DQogICAgICBjb25zdCByZWdFbWFpbCA9IC9eW2EtekEtWjAtOV8uLV0rQFthLXpBLVowLTktXSsoXC5bYS16QS1aMC05LV0rKSpcLlthLXpBLVowLTldezIsNn0kLw0KICAgICAgaWYgKHJlZ0VtYWlsLnRlc3QodmFsdWUpKSB7DQogICAgICAgIC8vIOWQiOazlQ0KICAgICAgICByZXR1cm4gY2IoKQ0KICAgICAgfQ0KICAgICAgY2IobmV3IEVycm9yKCfor7fovpPlhaXlkIjms5XnmoTpgq7nrrEnKSkNCiAgICB9DQogICAgLy/pqozor4HmiYvmnLrlj7fnmoTop4TliJkNCiAgICB2YXIgY2hlY2tNb2JpbGUgPSAocnVsZSwgdmFsdWUsIGNiKSA9PiB7DQogICAgICBjb25zdCByZWdNb2JpbGUgPSAvXigoMTNbMC05XSl8KDE0WzUsNyw5XSl8KDE1W140XSl8KDE4WzAtOV0pfCgxN1swLDEsMyw1LDYsNyw4XSkpWzAtOV17OH0kLw0KICAgICAgaWYgKHJlZ01vYmlsZS50ZXN0KHZhbHVlKSkgew0KICAgICAgICAvLyDlkIjms5UNCiAgICAgICAgcmV0dXJuIGNiKCkNCiAgICAgIH0NCiAgICAgIGNiKG5ldyBFcnJvcign6K+36L6T5YWl5ZCI5rOV55qE5omL5py65Y+3JykpDQogICAgfQ0KDQogICAgcmV0dXJuIHsNCiAgICAgIC8v6I635Y+W55So5oi35YiX6KGo55qE5Y+C5pWw5a+56LGhDQogICAgICBxdWVyeUluZm86IHsNCiAgICAgICAgcXVlcnk6ICcnLCAvL+afpeivouWPguaVsA0KICAgICAgICBwYWdlbnVtOiAxLCAvL+W9k+WJjemhteaVsA0KICAgICAgICBwYWdlc2l6ZTogNSAvL+W9k+WJjeavj+mhteaYvuekuuadoeaVsA0KICAgICAgfSwNCiAgICAgIHVzZXJsaXN0OiBbXSwNCiAgICAgIHJvbGVsaXN0OiBbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgLy8g5o6n5Yi25piv5ZCm5pi+56S65re75Yqg55So5oi35a+56K+d5qGGDQogICAgICBhZGREaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vIOaOp+WItuaYr+WQpuaYvuekuuS/ruaUueeUqOaIt+Wvueivneahhg0KICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy/mjqfliLbmmK/lkKbmmL7npLrliIbphY3nlKjmiLfop5LoibLlr7nor53moYYNCiAgICAgIGdpdmVEaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vIOa3u+WKoOeUqOaIt+eahOihqOWNleaVsOaNrg0KICAgICAgYWRkRm9ybTogew0KICAgICAgICBhY2NvdW50OiAnJywNCiAgICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgICBwYXNzd29yZDogJycsDQogICAgICAgIG1vYmlsZTogJycsDQogICAgICAgIGVtYWlsOiAnJw0KICAgICAgfSwNCiAgICAgIC8vIOS/ruaUueeUqOaIt+eahOihqOWNleaVsOaNrg0KICAgICAgZWRpdEZvcm06IHsNCiAgICAgICAgYWNjb3VudDogJycsDQogICAgICAgIHVzZXJpZDogJycsDQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgZW1haWw6ICcnLA0KICAgICAgICBtb2JpbGU6ICcnDQogICAgICB9LA0KICAgICAgLy/nu5nnlKjmiLfliIbphY3op5LoibINCiAgICAgIGdpdmVGb3JtOiB7DQogICAgICAgIHVzZXJpZDogJycsDQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgcm9sZTogJycsDQogICAgICAgIG5ld3JvbGU6IDANCiAgICAgIH0sDQogICAgICAvLyDnuqfogZTlmajphY3nva7lr7nosaENCiAgICAgIC8vIGNhdGVQcm9wczogew0KICAgICAgLy8gICB2YWx1ZTogJ2NhdF9pZCcsIA0KICAgICAgLy8gICBsYWJlbDogJ2NhdF9uYW1lJywNCiAgICAgIC8vICAgY2hpbGRyZW46ICdjaGlsZHJlbicNCiAgICAgIC8vIH0sDQogICAgICAvLyDmt7vliqDnlKjmiLfooajljZXnmoTpqozor4Hop4TliJnlr7nosaENCiAgICAgIGFkZEZvcm1SdWxlczogew0KICAgICAgICAvLyDpqozor4HnlKjmiLflkI3mmK/lkKblkIjms5UNCiAgICAgICAgdXNlcm5hbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgeyBtaW46IDMsIG1heDogNSwgbWVzc2FnZTogJ+mVv+W6puWcqCAzIOWIsCA1IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIC8vICDpqozor4Hlr4bnoIHmmK/lkKblkIjms5UNCiAgICAgICAgcGFzc3dvcmQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgeyBtaW46IDYsIG1heDogMTUsIG1lc3NhZ2U6ICfplb/luqblnKggNiDliLAgMTUg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgZW1haWw6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgq7nrrEnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrRW1haWwsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIG1vYmlsZTogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tNb2JpbGUsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICAvLyDnvJbovpHkv6Hmga/pqozor4Hop4TliJkNCiAgICAgIGVkaXRGb3JtUnVsZXM6IHsNCiAgICAgICAgZW1haWw6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgq7nrrEnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrRW1haWwsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIG1vYmlsZTogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tNb2JpbGUsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRVc2VyTGlzdCgpDQogICAgLy8gdGhpcy5nZXRSb2xlTGlzdCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+iOt+WPluinkuiJsuWIl+ihqOS/oeaBrw0KICAgIGFzeW5jIGdldFJvbGVMaXN0KCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdVc2VyL0dldFJvbGVMaXN0Jw0KICAgICAgKQ0KICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAxKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bop5LoibLliJfooajlpLHotKUnKQ0KICAgICAgfQ0KICAgICAgdGhpcy5yb2xlbGlzdCA9IHJlcy5yZXNwb25zZQ0KICAgIH0sDQogICAgLy/ojrflj5bnlKjmiLfkv6Hmga8NCiAgICBhc3luYyBnZXRVc2VyTGlzdCgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFVzZXJMaXN0KHRoaXMucXVlcnlJbmZvKQ0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMSkgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W55So5oi35YiX6KGo5aSx6LSlJykNCiAgICAgIH0NCiAgICAgIHRoaXMudXNlcmxpc3QgPSByZXMucmVzcG9uc2UudXNlckxpc3QNCiAgICAgIHRoaXMudG90YWwgPSByZXMucmVzcG9uc2UudG90YWxwYWdlDQogICAgfSwNCiAgICAvLyDnm5HlkKxwYWdlc2l6ZeaUueWPmOeahOS6i+S7tg0KICAgIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZXNpemUgPSBuZXdTaXplDQogICAgICB0aGlzLmdldFVzZXJMaXN0KCkgLy/mnIDmlrDmlbDmja4NCiAgICB9LA0KICAgIC8vIOebkeWQrOmhteeggeWAvOaUueWPmOeahOS6i+S7tg0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZW51bSA9IG5ld1BhZ2UNCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKSAvL+acgOaWsOaVsOaNrg0KICAgIH0sDQogICAgLy/nm5HlkKwgc3dpdGNo5byA5YWz54q25oCB55qE5pS55Y+YDQogICAgYXN5bmMgdXNlclN0YXRlQ2hhbmdlZCh1c2VyaW5mbykgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdVc2VyL0NoYW5nZVN0YXR1cycsIHsNCiAgICAgICAgLy/ov5nmmK9nZXTor7fmsYLkvKDlj4Lmlrnms5Ug5YW25Lit5Y+C5pWw6L+Y5piv5Yqo5oCB55qEIOmcgOimgeeUqOWPjeW8leWPtyANCiAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgdXNlcmlkOiBgJHt1c2VyaW5mby5pZH1gLCAvL+S9v+eUqOWPjeW8leWPtyDliqjmgIHlj4LmlbDmi7zmjqUNCiAgICAgICAgICBzdGF0dXM6IGAke3VzZXJpbmZvLnN0YXR1c31gDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDEpIHsNCiAgICAgICAgLy8gdXNlcmluZm8uc3RhdHVzID0gIXVzZXJpbmZvLnN0YXR1cyAvL+Wksei0peeahOivneWwsei/lOWbnuS5i+WJjeeahOe7k+aenCDnlKjkuo5ib29sDQogICAgICAgIGlmICh1c2VyaW5mby5zdGF0dXMgPT0gJzEnKSB7DQogICAgICAgICAgdXNlcmluZm8uc3RhdHVzID0gJzAnDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdXNlcmluZm8uc3RhdHVzID0gJzEnDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+abtOaWsOeUqOaIt+eKtuaAgeWksei0pSEnKQ0KICAgICAgfQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmm7TmlrDnlKjmiLfnirbmgIHmiJDlip8hJykNCiAgICB9LA0KICAgIC8vIOebkeWQrOa3u+WKoOeUqOaIt+WvueivneahhuWFs+mXreS6i+S7tg0KICAgIGFkZERpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi5yZXNldEZpZWxkcygpIC8v6KGo5Y2V6YeN572uDQogICAgfSwNCiAgICAvLyDnm5HlkKzmt7vliqDnlKjmiLflr7nor53moYblhbPpl63kuovku7YNCiAgICBnaXZlRGlhbG9nQ2xvc2VkKCkgew0KICAgICAgdGhpcy5naXZlRm9ybS5uZXdyb2xlID0gMA0KICAgIH0sDQogICAgLy8g54K55Ye75oyJ6ZKuLOa3u+WKoOaWsOeUqOaItw0KICAgIGFkZFVzZXIoKSB7DQogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFpbGQgPT4gew0KICAgICAgICBpZiAoIXZhaWxkKSB7DQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgLy/lj5Hotbfmt7vliqDnlKjmiLfnmoTnvZHot6/or7fmsYIgcG9zdOivt+axgui/lOWbnnByb21pc2Xlr7nosaEg566A5YyWcHJvbWlzZeaTjeS9nCDop6PmnoRkYXRh5bGe5oCn6YeN5ZG95ZCN5Li6UmVzDQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ1VzZXIvQWRkVXNlcicsIHRoaXMuYWRkRm9ybSkNCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAxKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOWksei0pScpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDmiJDlip8nKQ0KDQogICAgICAgIC8v6ZqQ6JeP5re75Yqg55So5oi35a+56K+d5qGGDQogICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgIC8v5Yi35paw5YiX6KGoIOmHjeaWsOiwg+eUqGdldFVzZXJMaXN0DQogICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOaYvuekuue8lui+keeUqOaIt+WvueivneahhiDov5novrnnm7TmjqXkvb/nlKjpobXpnaLnmoTmnKzlnLDmlbDmja4g6K+35rGC5pWw5o2u5bqT5Y+v5Lul5L+d6K+B5pWw5o2u55qE5pe25pWI5oCnDQogICAgc2hvd0VkaXREaWFsb2cocm93KSB7DQogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgICAgdGhpcy5lZGl0Rm9ybS51c2VyaWQgPSByb3cuaWQNCiAgICAgIHRoaXMuZWRpdEZvcm0udXNlcm5hbWUgPSByb3cubmFtZQ0KICAgICAgdGhpcy5lZGl0Rm9ybS5lbWFpbCA9IHJvdy5lbWFpbA0KICAgICAgdGhpcy5lZGl0Rm9ybS5tb2JpbGUgPSByb3cubW9iaWxlX3Bob25lDQogICAgfSwNCiAgICAvLyDnm5HlkKzkv67mlLnnlKjmiLflr7nor53moYbnmoTlhbPpl63kuovku7YNCiAgICBlZGl0RGlhbG9nQ2xvc2VkKCkgew0KICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi5yZXNldEZpZWxkcygpDQogICAgfSwNCiAgICAvLyDkv67mlLnnlKjmiLfkv6Hmga/lubbmj5DkuqQNCiAgICBlZGl0VXNlcigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFpbGQgPT4gew0KICAgICAgICBpZiAoIXZhaWxkKSB7DQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgLy/lj5Hotbfkv67mlLnnlKjmiLfnmoTnvZHot6/or7fmsYIgcG9zdOivt+axgui/lOWbnnByb21pc2Xlr7nosaEg566A5YyWcHJvbWlzZeaTjeS9nCDop6PmnoRkYXRh5bGe5oCn6YeN5ZG95ZCN5Li6UmVzDQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ1VzZXIvRWRpdFVzZXInLCB0aGlzLmVkaXRGb3JtKQ0KICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDEpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5L+u5pS55aSx6LSlJykNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpDQogICAgICAgIC8v6ZqQ6JeP5re75Yqg55So5oi35a+56K+d5qGGDQogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAvL+WIt+aWsOWIl+ihqCDph43mlrDosIPnlKhnZXRVc2VyTGlzdA0KICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmoLnmja7nlKjmiLfliKDpmaTlr7nlupTnmoTnlKjmiLcg5by55qGG5YWo5bGA5Y+v55SoDQogICAgYXN5bmMgcmVtb3ZlVXNlckJ5SWQoaWQpIHsNCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oDQogICAgICAgICfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XnlKjmiLcsIOaYr+WQpue7p+e7rT8nLA0KICAgICAgICAn5o+Q56S6JywNCiAgICAgICAgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfQ0KICAgICAgKS5jYXRjaChlcnIgPT4gew0KICAgICAgICByZXR1cm4gZXJyDQogICAgICB9KQ0KICAgICAgLy8g5aaC5p6c55So5oi354K55Ye756Gu6K6k6LS86L+U5Zue5a2X56ym5LiyIGNvbmZpcm0NCiAgICAgIC8vIGNhbmNlbCDlj5bmtojliKDpmaQNCiAgICAgIGlmIChyZXN1bHQgIT09ICdjb25maXJtJykgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Lnu4/lj5bmtojliKDpmaQnKQ0KICAgICAgfQ0KICAgICAgLy/lj5Hotbfkv67mlLnnlKjmiLfnmoTnvZHot6/or7fmsYIgcG9zdOivt+axgui/lOWbnnByb21pc2Xlr7nosaEg566A5YyWcHJvbWlzZeaTjeS9nCDop6PmnoRkYXRh5bGe5oCn6YeN5ZG95ZCN5Li6UmVzDQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJ1VzZXIvRGVsZXRlVXNlcicsIHsNCiAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgcm9sZWlkOiBpZA0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAxKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUnKQ0KICAgICAgfQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQ0KICAgICAgLy/liLfmlrDliJfooagg6YeN5paw6LCD55SoZ2V0VXNlckxpc3QNCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQ0KICAgIH0sDQogICAgLy/mmL7npLrliIbphY3op5LoibLlr7nor53moYYNCiAgICBzaG93R2l2ZVJvbGVEaWFsb2cocm93KSB7DQogICAgICB0aGlzLmdpdmVGb3JtLnVzZXJpZCA9IHJvdy5pZA0KICAgICAgdGhpcy5naXZlRm9ybS51c2VybmFtZSA9IHJvdy5uYW1lDQogICAgICB0aGlzLmdpdmVGb3JtLnJvbGUgPSByb3cucm9sZQ0KICAgICAgdGhpcy5naXZlRGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIC8v5YiG6YWN6KeS6ImyDQogICAgYXN5bmMgZ2l2ZVJvbGUoKSB7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdVc2VyL0dpdmVSb2xlJywgeyB1c2VyaWQ6IHRoaXMuZ2l2ZUZvcm0udXNlcmlkLCBuZXdyb2xlOiB0aGlzLmdpdmVGb3JtLm5ld3JvbGUgfSkNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMSkgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5YiG6YWN6KeS6Imy5aSx6LSlJykNCiAgICAgIH0NCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5YiG6YWN6KeS6Imy5oiQ5YqfJykNCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQ0KICAgICAgLy/lhbPpl63lr7nor53moYYNCiAgICAgIHRoaXMuZ2l2ZURpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/views/permission","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- gutter列间距 row行 col列 :span列宽 -->\r\n      <el-row :gutter=\"20\" style=\"margin-bottom: 30px\">\r\n        <el-col :span=\"7\">\r\n          <!-- placeholder 默认提示 @clear绑定获取用户信息事件-->\r\n          <el-input\r\n            @clear=\"getUserList\"\r\n            clearable\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n          >\r\n            <el-button\r\n              @click=\"getUserList\"\r\n              icon=\"el-icon-search\"\r\n              slot=\"append\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button @click=\"addDialogVisible = true\" type=\"primary\"\r\n            >添加用户</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 用户列表区域 border边框线 stripe斑马线 type=\"index\"索引列-->\r\n      <el-table :data=\"userlist\" border stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"账号\" prop=\"account\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"userName\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <!-- <el-table-column label=\"电话\" prop=\"mobile_phone\"></el-table-column> -->\r\n        <el-table-column label=\"角色\" prop=\"role\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"reMark\"></el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <!-- 作用域插槽 slot-scope接收作用域数据 .row接收当前行数据 -->\r\n          <template slot-scope=\"scope\">\r\n            <!-- switch开关 v-model双向绑定数据 Num不支持貌似有Bug 使用string类型 -->\r\n            <el-switch\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              @change=\"userStateChanged(scope.row)\"\r\n              v-model=\"scope.row.status\"\r\n              active-value=\"1\"\r\n              inactive-value=\"0\"\r\n            ></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button\r\n              @click=\"showEditDialog(scope.row)\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n            ></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              @click=\"removeUserById(scope.row.id)\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n            ></el-button>\r\n            <!-- 分配角色 -->\r\n            <el-tooltip\r\n              :enterable=\"false\"\r\n              content=\"分配角色\"\r\n              effect=\"dark\"\r\n              placement=\"top-start\"\r\n            >\r\n              <el-button\r\n                @click=\"showGiveRoleDialog(scope.row)\"\r\n                icon=\"el-icon-setting\"\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- @size-change事件绑定  layout界面组件 取当前页和每页显示条数来取对应的数据-->\r\n      <div style=\"margin-top: 20px\">\r\n        <el-pagination\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          :page-sizes=\"[1, 2, 5, 10]\"\r\n          :total=\"total\"\r\n          @current-change=\"handleCurrentChange\"\r\n          @size-change=\"handleSizeChange\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n        ></el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <!-- 这是下拉框选择组件 v-model双向绑定数据将选中的值保存 label显示的名称 value记录真正的值 一般key和value使用ID -->\r\n    <!-- <el-select v-model=\"value\" placeholder=\"请选择\">\r\n    <el-option\r\n      v-for=\"item in options\"\r\n      :key=\"item.value\"\r\n      :label=\"item.label\"\r\n      :value=\"item.value\">\r\n    </el-option>\r\n    </el-select>-->\r\n    <!-- 联级子菜单 options数据源  Id值绑定 props配置对象 v-model数据应该是个数组-->\r\n    <!-- <el-cascader\r\n    expandTrigger: 'hover' \r\n      :options=\"options\"\r\n      :props=\"cateProps\"\r\n      @change=\"handleChange\"\r\n      v-model=\"value\"\r\n    ></el-cascader>-->\r\n\r\n    <!-- 添加用户的对话框 visible.sync控制显示和隐藏的Bool -->\r\n    <el-dialog\r\n      :visible.sync=\"addDialogVisible\"\r\n      @close=\"addDialogClosed\"\r\n      title=\"添加用户\"\r\n      width=\"50%\"\r\n    >\r\n      <!-- 内容主体区域 ：model绑定addForm中 v-model绑定表单的数据项=》addForm prop验证规则的属性-->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        label-width=\"70px\"\r\n        ref=\"addFormRef\"\r\n      >\r\n        <el-form-item label=\"账号\" prop=\"account\">\r\n          <el-input v-model=\"addForm.account\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 slot=\"footer\" 可以理解为内容插槽 被设置Dom的位置 footer为底部-->\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"addUser\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改用户的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"editDialogVisible\"\r\n      @close=\"editDialogClosed\"\r\n      title=\"修改用户\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"editFormRules\"\r\n        label-width=\"70px\"\r\n        ref=\"editFormRef\"\r\n      >\r\n        <el-form-item label=\"用户名\">\r\n          <el-input disabled v-model=\"editForm.account\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\">\r\n          <el-input disabled v-model=\"editForm.username\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"editUser()\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 分配用户角色的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"giveDialogVisible\"\r\n      @close=\"giveDialogClosed\"\r\n      title=\"分配角色\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form :model=\"giveForm\" label-width=\"100px\" ref=\"giveFormRef\">\r\n        <el-form-item label=\"当前用户:\">\r\n          <span>{{ giveForm.account }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前用户:\">\r\n          <span>{{ giveForm.username }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前角色:\">\r\n          <span>{{ giveForm.role }} </span>\r\n        </el-form-item>\r\n        <el-form-item label=\"分配新角色:\">\r\n          <el-select v-model=\"giveForm.newrole\" placeholder=\"请选择角色\">\r\n            <el-option\r\n              v-for=\"item in rolelist\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"giveDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"giveRole()\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getUserList } from '@/api/user'\r\n\r\nexport default {\r\n  data() {\r\n    //验证邮箱的规则\r\n    var checkEmail = (rule, value, cb) => {\r\n      const regEmail = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/\r\n      if (regEmail.test(value)) {\r\n        // 合法\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的邮箱'))\r\n    }\r\n    //验证手机号的规则\r\n    var checkMobile = (rule, value, cb) => {\r\n      const regMobile = /^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))[0-9]{8}$/\r\n      if (regMobile.test(value)) {\r\n        // 合法\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的手机号'))\r\n    }\r\n\r\n    return {\r\n      //获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: '', //查询参数\r\n        pagenum: 1, //当前页数\r\n        pagesize: 5 //当前每页显示条数\r\n      },\r\n      userlist: [],\r\n      rolelist: [],\r\n      total: 0,\r\n      // 控制是否显示添加用户对话框\r\n      addDialogVisible: false,\r\n      // 控制是否显示修改用户对话框\r\n      editDialogVisible: false,\r\n      //控制是否显示分配用户角色对话框\r\n      giveDialogVisible: false,\r\n      // 添加用户的表单数据\r\n      addForm: {\r\n        account: '',\r\n        username: '',\r\n        password: '',\r\n        mobile: '',\r\n        email: ''\r\n      },\r\n      // 修改用户的表单数据\r\n      editForm: {\r\n        account: '',\r\n        userid: '',\r\n        username: '',\r\n        email: '',\r\n        mobile: ''\r\n      },\r\n      //给用户分配角色\r\n      giveForm: {\r\n        userid: '',\r\n        username: '',\r\n        role: '',\r\n        newrole: 0\r\n      },\r\n      // 级联器配置对象\r\n      // cateProps: {\r\n      //   value: 'cat_id', \r\n      //   label: 'cat_name',\r\n      //   children: 'children'\r\n      // },\r\n      // 添加用户表单的验证规则对象\r\n      addFormRules: {\r\n        // 验证用户名是否合法\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n        ],\r\n        //  验证密码是否合法\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '请输入邮箱',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkEmail,\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        mobile: [\r\n          {\r\n            required: true,\r\n            message: '请输入手机号',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkMobile,\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      // 编辑信息验证规则\r\n      editFormRules: {\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '请输入邮箱',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkEmail,\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        mobile: [\r\n          {\r\n            required: true,\r\n            message: '请输入手机号',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkMobile,\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList()\r\n    // this.getRoleList()\r\n  },\r\n  methods: {\r\n    //获取角色列表信息\r\n    async getRoleList() {\r\n      const { data: res } = await this.$http.get('User/GetRoleList'\r\n      )\r\n      if (res.status == 201) {\r\n        return this.$message.error('获取角色列表失败')\r\n      }\r\n      this.rolelist = res.response\r\n    },\r\n    //获取用户信息\r\n    async getUserList() {\r\n      const res = await getUserList(this.queryInfo)\r\n      console.log(res);\r\n      if (res.status == 201) {\r\n        return this.$message.error('获取用户列表失败')\r\n      }\r\n      this.userlist = res.response.userList\r\n      this.total = res.response.totalpage\r\n    },\r\n    // 监听pagesize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getUserList() //最新数据\r\n    },\r\n    // 监听页码值改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage\r\n      this.getUserList() //最新数据\r\n    },\r\n    //监听 switch开关状态的改变\r\n    async userStateChanged(userinfo) {\r\n      const { data: res } = await this.$http.get('User/ChangeStatus', {\r\n        //这是get请求传参方法 其中参数还是动态的 需要用反引号 \r\n        params: {\r\n          userid: `${userinfo.id}`, //使用反引号 动态参数拼接\r\n          status: `${userinfo.status}`\r\n        }\r\n      })\r\n      if (res.status == 201) {\r\n        // userinfo.status = !userinfo.status //失败的话就返回之前的结果 用于bool\r\n        if (userinfo.status == '1') {\r\n          userinfo.status = '0'\r\n        } else {\r\n          userinfo.status = '1'\r\n        }\r\n        return this.$message.error('更新用户状态失败!')\r\n      }\r\n      this.$message.success('更新用户状态成功!')\r\n    },\r\n    // 监听添加用户对话框关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields() //表单重置\r\n    },\r\n    // 监听添加用户对话框关闭事件\r\n    giveDialogClosed() {\r\n      this.giveForm.newrole = 0\r\n    },\r\n    // 点击按钮,添加新用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async vaild => {\r\n        if (!vaild) {\r\n          return\r\n        }\r\n        //发起添加用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n        const { data: res } = await this.$http.post('User/AddUser', this.addForm)\r\n        if (res.status == 201) {\r\n          return this.$message.error('添加失败')\r\n        }\r\n        this.$message.success('添加成功')\r\n\r\n        //隐藏添加用户对话框\r\n        this.addDialogVisible = false\r\n        //刷新列表 重新调用getUserList\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 显示编辑用户对话框 这边直接使用页面的本地数据 请求数据库可以保证数据的时效性\r\n    showEditDialog(row) {\r\n      this.editDialogVisible = true\r\n      this.editForm.userid = row.id\r\n      this.editForm.username = row.name\r\n      this.editForm.email = row.email\r\n      this.editForm.mobile = row.mobile_phone\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改用户信息并提交\r\n    editUser() {\r\n      this.$refs.editFormRef.validate(async vaild => {\r\n        if (!vaild) {\r\n          return\r\n        }\r\n        //发起修改用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n        const { data: res } = await this.$http.post('User/EditUser', this.editForm)\r\n        if (res.status == 201) {\r\n          return this.$message.error('修改失败')\r\n        }\r\n        this.$message.success('修改成功')\r\n        //隐藏添加用户对话框\r\n        this.editDialogVisible = false\r\n        //刷新列表 重新调用getUserList\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 根据用户删除对应的用户 弹框全局可用\r\n    async removeUserById(id) {\r\n      const result = await this.$confirm(\r\n        '此操作将永久删除该用户, 是否继续?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).catch(err => {\r\n        return err\r\n      })\r\n      // 如果用户点击确认贼返回字符串 confirm\r\n      // cancel 取消删除\r\n      if (result !== 'confirm') {\r\n        return this.$message.info('已经取消删除')\r\n      }\r\n      //发起修改用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n      const { data: res } = await this.$http.get('User/DeleteUser', {\r\n        params: {\r\n          roleid: id\r\n        }\r\n      })\r\n      if (res.status == 201) {\r\n        return this.$message.error('删除失败')\r\n      }\r\n      this.$message.success('删除成功')\r\n      //刷新列表 重新调用getUserList\r\n      this.getUserList()\r\n    },\r\n    //显示分配角色对话框\r\n    showGiveRoleDialog(row) {\r\n      this.giveForm.userid = row.id\r\n      this.giveForm.username = row.name\r\n      this.giveForm.role = row.role\r\n      this.giveDialogVisible = true\r\n    },\r\n    //分配角色\r\n    async giveRole() {\r\n      const { data: res } = await this.$http.post('User/GiveRole', { userid: this.giveForm.userid, newrole: this.giveForm.newrole })\r\n      if (res.status == 201) {\r\n        return this.$message.error('分配角色失败')\r\n      }\r\n      this.$message.success('分配角色成功')\r\n      this.getUserList()\r\n      //关闭对话框\r\n      this.giveDialogVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>"]}]}