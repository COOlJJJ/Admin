{"remainingRequest":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\babel-loader\\lib\\index.js!D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\src\\views\\permission\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\src\\views\\permission\\user.vue","mtime":1649429358963},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\babel.config.js","mtime":1648119135000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\UserData\\Z0047YMR\\Documents\\GitHub\\Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1VzZXJEYXRhL1owMDQ3WU1SL0RvY3VtZW50cy9HaXRIdWIvQWRtaW4tbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VXNlckxpc3QgYXMgX2dldFVzZXJMaXN0LCBhZGRVc2VyIGFzIF9hZGRVc2VyLCBlZGl0VXNlciBhcyBfZWRpdFVzZXIsIGNoYW5nZVN0YXR1cywgZGVsZXRlVXNlciwgZ2l2ZVJvbGVzIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGdldFJvbGVMaXN0IGFzIF9nZXRSb2xlTGlzdCB9IGZyb20gJ0AvYXBpL3JvbGUnOwppbXBvcnQgeyBwYXJhbSB9IGZyb20gJ0AvdXRpbHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8v6aqM6K+B6YKu566x55qE6KeE5YiZCiAgICB2YXIgY2hlY2tFbWFpbCA9IGZ1bmN0aW9uIGNoZWNrRW1haWwocnVsZSwgdmFsdWUsIGNiKSB7CiAgICAgIHZhciByZWdFbWFpbCA9IC9eW2EtekEtWjAtOV8uLV0rQFthLXpBLVowLTktXSsoXC5bYS16QS1aMC05LV0rKSpcLlthLXpBLVowLTldezIsNn0kLzsKCiAgICAgIGlmIChyZWdFbWFpbC50ZXN0KHZhbHVlKSkgewogICAgICAgIC8vIOWQiOazlQogICAgICAgIHJldHVybiBjYigpOwogICAgICB9CgogICAgICBjYihuZXcgRXJyb3IoJ+ivt+i+k+WFpeWQiOazleeahOmCrueusScpKTsKICAgIH07IC8v6aqM6K+B5omL5py65Y+355qE6KeE5YiZCgoKICAgIHZhciBjaGVja01vYmlsZSA9IGZ1bmN0aW9uIGNoZWNrTW9iaWxlKHJ1bGUsIHZhbHVlLCBjYikgewogICAgICB2YXIgcmVnTW9iaWxlID0gL14oKDEzWzAtOV0pfCgxNFs1LDcsOV0pfCgxNVteNF0pfCgxOFswLTldKXwoMTdbMCwxLDMsNSw2LDcsOF0pKVswLTldezh9JC87CgogICAgICBpZiAocmVnTW9iaWxlLnRlc3QodmFsdWUpKSB7CiAgICAgICAgLy8g5ZCI5rOVCiAgICAgICAgcmV0dXJuIGNiKCk7CiAgICAgIH0KCiAgICAgIGNiKG5ldyBFcnJvcign6K+36L6T5YWl5ZCI5rOV55qE5omL5py65Y+3JykpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICAvL+iOt+WPlueUqOaIt+WIl+ihqOeahOWPguaVsOWvueixoQogICAgICBxdWVyeUluZm86IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgLy/mn6Xor6Llj4LmlbAKICAgICAgICBwYWdlbnVtOiAxLAogICAgICAgIC8v5b2T5YmN6aG15pWwCiAgICAgICAgcGFnZXNpemU6IDUgLy/lvZPliY3mr4/pobXmmL7npLrmnaHmlbAKCiAgICAgIH0sCiAgICAgIHVzZXJsaXN0OiBbXSwKICAgICAgcm9sZWxpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5o6n5Yi25piv5ZCm5pi+56S65re75Yqg55So5oi35a+56K+d5qGGCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAvLyDmjqfliLbmmK/lkKbmmL7npLrkv67mlLnnlKjmiLflr7nor53moYYKICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAvL+aOp+WItuaYr+WQpuaYvuekuuWIhumFjeeUqOaIt+inkuiJsuWvueivneahhgogICAgICBnaXZlRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOeUqOaIt+eahOihqOWNleaVsOaNrgogICAgICBhZGRGb3JtOiB7CiAgICAgICAgYWNjb3VudDogJycsCiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcmVtYXJrOiAnJwogICAgICB9LAogICAgICAvLyDkv67mlLnnlKjmiLfnmoTooajljZXmlbDmja4KICAgICAgZWRpdEZvcm06IHsKICAgICAgICBhY2NvdW50OiAnJywKICAgICAgICB1c2VyaWQ6ICcnLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcmVtYXJrOiAnJwogICAgICB9LAogICAgICAvL+e7meeUqOaIt+WIhumFjeinkuiJsgogICAgICBnaXZlRm9ybTogewogICAgICAgIHVzZXJpZDogJycsCiAgICAgICAgYWNjb3VudDogJycsCiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHJvbGVzOiAnJywKICAgICAgICBuZXdyb2xlOiBbXQogICAgICB9LAogICAgICAvLyDnuqfogZTlmajphY3nva7lr7nosaEKICAgICAgLy8gY2F0ZVByb3BzOiB7CiAgICAgIC8vICAgdmFsdWU6ICdjYXRfaWQnLCAKICAgICAgLy8gICBsYWJlbDogJ2NhdF9uYW1lJywKICAgICAgLy8gICBjaGlsZHJlbjogJ2NoaWxkcmVuJwogICAgICAvLyB9LAogICAgICAvLyDmt7vliqDnlKjmiLfooajljZXnmoTpqozor4Hop4TliJnlr7nosaEKICAgICAgYWRkRm9ybVJ1bGVzOiB7CiAgICAgICAgLy8g6aqM6K+B55So5oi35ZCN5piv5ZCm5ZCI5rOVCiAgICAgICAgYWNjb3VudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpei0puWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICAvLyDpqozor4HnlKjmiLflkI3mmK/lkKblkIjms5UKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtYXg6IDUsCiAgICAgICAgICBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDMg5YiwIDUg5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIC8vICDpqozor4Hlr4bnoIHmmK/lkKblkIjms5UKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDYsCiAgICAgICAgICBtYXg6IDE1LAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCA2IOWIsCAxNSDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZW1haWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgq7nrrEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja0VtYWlsLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0gLy8gbW9iaWxlOiBbCiAgICAgICAgLy8gICB7CiAgICAgICAgLy8gICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIC8vICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+3JywKICAgICAgICAvLyAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgewogICAgICAgIC8vICAgICB2YWxpZGF0b3I6IGNoZWNrTW9iaWxlLAogICAgICAgIC8vICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAvLyAgIH0KICAgICAgICAvLyBdCgogICAgICB9LAogICAgICAvLyDnvJbovpHkv6Hmga/pqozor4Hop4TliJkKICAgICAgZWRpdEZvcm1SdWxlczogewogICAgICAgIGVtYWlsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6YKu566xJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tFbWFpbCwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dIC8vIG1vYmlsZTogWwogICAgICAgIC8vICAgewogICAgICAgIC8vICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAvLyAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsCiAgICAgICAgLy8gICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgIHsKICAgICAgICAvLyAgICAgdmFsaWRhdG9yOiBjaGVja01vYmlsZSwKICAgICAgICAvLyAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gXQoKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB0aGlzLmdldFJvbGVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPluinkuiJsuWIl+ihqOS/oeaBrwogICAgZ2V0Um9sZUxpc3Q6IGZ1bmN0aW9uIGdldFJvbGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRSb2xlTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdGF0dXMgPT0gMjAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluinkuiJsuWIl+ihqOWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMucm9sZWxpc3QgPSByZXMucmVzcG9uc2U7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+iOt+WPlueUqOaIt+S/oeaBrwogICAgZ2V0VXNlckxpc3Q6IGZ1bmN0aW9uIGdldFVzZXJMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlckxpc3QoX3RoaXMyLnF1ZXJ5SW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnVzZXJsaXN0ID0gcmVzLnJlc3BvbnNlLnVzZXJMaXN0OwogICAgICAgICAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzLnJlc3BvbnNlLnRvdGFscGFnZTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55uR5ZCscGFnZXNpemXmlLnlj5jnmoTkuovku7YKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlc2l6ZSA9IG5ld1NpemU7CiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsgLy/mnIDmlrDmlbDmja4KICAgIH0sCiAgICAvLyDnm5HlkKzpobXnoIHlgLzmlLnlj5jnmoTkuovku7YKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtID0gbmV3UGFnZTsKICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOyAvL+acgOaWsOaVsOaNrgogICAgfSwKICAgIC8v55uR5ZCsIHN3aXRjaOW8gOWFs+eKtuaAgeeahOaUueWPmAogICAgdXNlclN0YXRlQ2hhbmdlZDogZnVuY3Rpb24gdXNlclN0YXRlQ2hhbmdlZCh1c2VyaW5mbykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VTdGF0dXMoewogICAgICAgICAgICAgICAgICAvL+i/meaYr2dldOivt+axguS8oOWPguaWueazlSDlhbbkuK3lj4LmlbDov5jmmK/liqjmgIHnmoQg6ZyA6KaB55So5Y+N5byV5Y+3IAogICAgICAgICAgICAgICAgICB1c2VyaWQ6ICIiLmNvbmNhdCh1c2VyaW5mby5pZCksCiAgICAgICAgICAgICAgICAgIC8v5L2/55So5Y+N5byV5Y+3IOWKqOaAgeWPguaVsOaLvOaOpQogICAgICAgICAgICAgICAgICBzdGF0dXM6ICIiLmNvbmNhdCh1c2VyaW5mby5zdGF0dXMpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyA9PSAyMDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gdXNlcmluZm8uc3RhdHVzID0gIXVzZXJpbmZvLnN0YXR1cyAvL+Wksei0peeahOivneWwsei/lOWbnuS5i+WJjeeahOe7k+aenCDnlKjkuo5ib29sCiAgICAgICAgICAgICAgICBpZiAodXNlcmluZm8uc3RhdHVzID09ICcxJykgewogICAgICAgICAgICAgICAgICB1c2VyaW5mby5zdGF0dXMgPSAnMCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB1c2VyaW5mby5zdGF0dXMgPSAnMSc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcign5pu05paw55So5oi354q25oCB5aSx6LSlIScpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOeUqOaIt+eKtuaAgeaIkOWKnyEnKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55uR5ZCs5re75Yqg55So5oi35a+56K+d5qGG5YWz6Zet5LqL5Lu2CiAgICBhZGREaWFsb2dDbG9zZWQ6IGZ1bmN0aW9uIGFkZERpYWxvZ0Nsb3NlZCgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnJlc2V0RmllbGRzKCk7IC8v6KGo5Y2V6YeN572uCiAgICB9LAogICAgLy8g55uR5ZCs5re75Yqg55So5oi35a+56K+d5qGG5YWz6Zet5LqL5Lu2CiAgICBnaXZlRGlhbG9nQ2xvc2VkOiBmdW5jdGlvbiBnaXZlRGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLmdpdmVGb3JtLm5ld3JvbGUgPSAwOwogICAgfSwKICAgIC8vIOeCueWHu+aMiemSrizmt7vliqDmlrDnlKjmiLcKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh2YWlsZCkgewogICAgICAgICAgdmFyIHJlczsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICh2YWlsZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgLy/lj5Hotbfmt7vliqDnlKjmiLfnmoTnvZHot6/or7fmsYIgcG9zdOivt+axgui/lOWbnnByb21pc2Xlr7nosaEg566A5YyWcHJvbWlzZeaTjeS9nCDop6PmnoRkYXRh5bGe5oCn6YeN5ZG95ZCN5Li6UmVzCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzNC5hZGRGb3JtKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gX2FkZFVzZXIoX3RoaXM0LmFkZEZvcm0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzID09IDIwMSkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOWksei0pScpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTsgLy/pmpDol4/mt7vliqDnlKjmiLflr7nor53moYYKCgogICAgICAgICAgICAgICAgICBfdGhpczQuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvL+WIt+aWsOWIl+ihqCDph43mlrDosIPnlKhnZXRVc2VyTGlzdAoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldFVzZXJMaXN0KCk7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIC8vIOaYvuekuue8lui+keeUqOaIt+WvueivneahhiDov5novrnnm7TmjqXkvb/nlKjpobXpnaLnmoTmnKzlnLDmlbDmja4g6K+35rGC5pWw5o2u5bqT5Y+v5Lul5L+d6K+B5pWw5o2u55qE5pe25pWI5oCnCiAgICBzaG93RWRpdERpYWxvZzogZnVuY3Rpb24gc2hvd0VkaXREaWFsb2cocm93KSB7CiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmVkaXRGb3JtLnVzZXJpZCA9IHJvdy5pZDsKICAgICAgdGhpcy5lZGl0Rm9ybS5hY2NvdW50ID0gcm93LmFjY291bnQ7CiAgICAgIHRoaXMuZWRpdEZvcm0udXNlcm5hbWUgPSByb3cudXNlck5hbWU7CiAgICAgIHRoaXMuZWRpdEZvcm0uZW1haWwgPSByb3cuZW1haWw7CiAgICAgIHRoaXMuZWRpdEZvcm0ucmVtYXJrID0gcm93LnJlTWFyazsKICAgIH0sCiAgICAvLyDnm5HlkKzkv67mlLnnlKjmiLflr7nor53moYbnmoTlhbPpl63kuovku7YKICAgIGVkaXREaWFsb2dDbG9zZWQ6IGZ1bmN0aW9uIGVkaXREaWFsb2dDbG9zZWQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDkv67mlLnnlKjmiLfkv6Hmga/lubbmj5DkuqQKICAgIGVkaXRVc2VyOiBmdW5jdGlvbiBlZGl0VXNlcigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUodmFpbGQpIHsKICAgICAgICAgIHZhciByZXM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAodmFpbGQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9lZGl0VXNlcihfdGhpczUuZWRpdEZvcm0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzID09IDIwMSkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoJ+S/ruaUueWksei0pScpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTsgLy/pmpDol4/mt7vliqDnlKjmiLflr7nor53moYYKCgogICAgICAgICAgICAgICAgICBfdGhpczUuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy/liLfmlrDliJfooagg6YeN5paw6LCD55SoZ2V0VXNlckxpc3QKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5nZXRVc2VyTGlzdCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIC8vIOagueaNrueUqOaIt+WIoOmZpOWvueW6lOeahOeUqOaItyDlvLnmoYblhajlsYDlj6/nlKgKICAgIHJlbW92ZVVzZXJCeUlkOiBmdW5jdGlvbiByZW1vdmVVc2VyQnlJZChpZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciByZXN1bHQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlcnI7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0ICE9PSAnY29uZmlybScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIF90aGlzNi4kbWVzc2FnZS5pbmZvKCflt7Lnu4/lj5bmtojliKDpmaQnKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBkZWxldGVVc2VyKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyA9PSAyMDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBfdGhpczYuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF90aGlzNi4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsgLy/liLfmlrDliJfooagg6YeN5paw6LCD55SoZ2V0VXNlckxpc3QKCgogICAgICAgICAgICAgICAgX3RoaXM2LmdldFVzZXJMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+aYvuekuuWIhumFjeinkuiJsuWvueivneahhgogICAgc2hvd0dpdmVSb2xlRGlhbG9nOiBmdW5jdGlvbiBzaG93R2l2ZVJvbGVEaWFsb2cocm93KSB7CiAgICAgIHRoaXMuZ2l2ZUZvcm0udXNlcmlkID0gcm93LmlkOwogICAgICB0aGlzLmdpdmVGb3JtLmFjY291bnQgPSByb3cuYWNjb3VudDsKICAgICAgdGhpcy5naXZlRm9ybS51c2VybmFtZSA9IHJvdy51c2VyTmFtZTsKICAgICAgdGhpcy5naXZlRm9ybS5yb2xlcyA9IHJvdy5yb2xlczsKICAgICAgdGhpcy5naXZlRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy/liIbphY3op5LoibIKICAgIGdpdmVSb2xlOiBmdW5jdGlvbiBnaXZlUm9sZSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2l2ZVJvbGVzKHsKICAgICAgICAgICAgICAgICAgdXNlcmlkOiBfdGhpczcuZ2l2ZUZvcm0udXNlcmlkLAogICAgICAgICAgICAgICAgICBuZXdyb2xlOiBfdGhpczcuZ2l2ZUZvcm0ubmV3cm9sZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ny5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdGF0dXMgPT0gMjAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBfdGhpczcuJG1lc3NhZ2UuZXJyb3IoJ+WIhumFjeinkuiJsuWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXM3LiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIhumFjeinkuiJsuaIkOWKnycpOwoKICAgICAgICAgICAgICAgIF90aGlzNy5nZXRVc2VyTGlzdCgpOyAvL+WFs+mXreWvueivneahhgoKCiAgICAgICAgICAgICAgICBfdGhpczcuZ2l2ZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["data","cb","queryInfo","query","pagenum","pagesize","userlist","rolelist","total","addDialogVisible","editDialogVisible","giveDialogVisible","addForm","account","username","password","email","remark","editForm","userid","giveForm","roles","newrole","addFormRules","required","message","trigger","min","max","validator","editFormRules","created","methods","getRoleList","res","getUserList","handleSizeChange","newSize","handleCurrentChange","newPage","userStateChanged","userinfo","changeStatus","status","addDialogClosed","giveDialogClosed","addUser","vaild","console","showEditDialog","row","editDialogClosed","editUser","removeUserById","id","confirmButtonText","cancelButtonText","type","catch","result","deleteUser","showGiveRoleDialog","giveRole","giveRoles"],"sourceRoot":"src/views/permission","sources":["user.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- gutter列间距 row行 col列 :span列宽 -->\r\n      <el-row :gutter=\"20\" style=\"margin-bottom: 30px\">\r\n        <el-col :span=\"7\">\r\n          <!-- placeholder 默认提示 @clear绑定获取用户信息事件-->\r\n          <el-input\r\n            @clear=\"getUserList\"\r\n            clearable\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n          >\r\n            <el-button\r\n              @click=\"getUserList\"\r\n              icon=\"el-icon-search\"\r\n              slot=\"append\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button @click=\"addDialogVisible = true\" type=\"primary\"\r\n            >添加用户</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 用户列表区域 border边框线 stripe斑马线 type=\"index\"索引列-->\r\n      <el-table :data=\"userlist\" border stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"账号\" prop=\"account\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"userName\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <!-- <el-table-column label=\"电话\" prop=\"mobile_phone\"></el-table-column> -->\r\n        <el-table-column label=\"角色\" prop=\"roles\"></el-table-column>\r\n        <el-table-column label=\"备注\" prop=\"reMark\"></el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <!-- 作用域插槽 slot-scope接收作用域数据 .row接收当前行数据 -->\r\n          <template slot-scope=\"scope\">\r\n            <!-- switch开关 v-model双向绑定数据 Num不支持貌似有Bug 使用string类型 -->\r\n            <el-switch\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              @change=\"userStateChanged(scope.row)\"\r\n              v-model=\"scope.row.status\"\r\n              active-value=\"1\"\r\n              inactive-value=\"0\"\r\n            ></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button\r\n              @click=\"showEditDialog(scope.row)\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n            ></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              @click=\"removeUserById(scope.row.id)\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n            ></el-button>\r\n            <!-- 分配角色 -->\r\n            <el-tooltip\r\n              :enterable=\"false\"\r\n              content=\"分配角色\"\r\n              effect=\"dark\"\r\n              placement=\"top-start\"\r\n            >\r\n              <el-button\r\n                @click=\"showGiveRoleDialog(scope.row)\"\r\n                icon=\"el-icon-setting\"\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- @size-change事件绑定  layout界面组件 取当前页和每页显示条数来取对应的数据-->\r\n      <div style=\"margin-top: 20px\">\r\n        <el-pagination\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          :page-sizes=\"[1, 2, 5, 10]\"\r\n          :total=\"total\"\r\n          @current-change=\"handleCurrentChange\"\r\n          @size-change=\"handleSizeChange\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n        ></el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <!-- 这是下拉框选择组件 v-model双向绑定数据将选中的值保存 label显示的名称 value记录真正的值 一般key和value使用ID -->\r\n    <!-- <el-select v-model=\"value\" placeholder=\"请选择\">\r\n    <el-option\r\n      v-for=\"item in options\"\r\n      :key=\"item.value\"\r\n      :label=\"item.label\"\r\n      :value=\"item.value\">\r\n    </el-option>\r\n    </el-select>-->\r\n    <!-- 联级子菜单 options数据源  Id值绑定 props配置对象 v-model数据应该是个数组-->\r\n    <!-- <el-cascader\r\n    expandTrigger: 'hover' \r\n      :options=\"options\"\r\n      :props=\"cateProps\"\r\n      @change=\"handleChange\"\r\n      v-model=\"value\"\r\n    ></el-cascader>-->\r\n\r\n    <!-- 添加用户的对话框 visible.sync控制显示和隐藏的Bool -->\r\n    <el-dialog\r\n      :visible.sync=\"addDialogVisible\"\r\n      @close=\"addDialogClosed\"\r\n      title=\"添加用户\"\r\n      width=\"35%\"\r\n    >\r\n      <!-- 内容主体区域 ：model绑定addForm中 v-model绑定表单的数据项=》addForm prop验证规则的属性-->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        label-width=\"70px\"\r\n        ref=\"addFormRef\"\r\n      >\r\n        <el-form-item label=\"账号\" prop=\"account\">\r\n          <el-input v-model=\"addForm.account\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"addForm.remark\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 slot=\"footer\" 可以理解为内容插槽 被设置Dom的位置 footer为底部-->\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"addUser\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改用户的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"editDialogVisible\"\r\n      @close=\"editDialogClosed\"\r\n      title=\"修改用户\"\r\n      width=\"35%\"\r\n    >\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"editFormRules\"\r\n        label-width=\"70px\"\r\n        ref=\"editFormRef\"\r\n      >\r\n        <el-form-item label=\"账号\" prop=\"account\">\r\n          <el-input disabled v-model=\"editForm.account\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input disabled v-model=\"editForm.username\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input disabled v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"editForm.remark\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"editUser()\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 分配用户角色的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"giveDialogVisible\"\r\n      @close=\"giveDialogClosed\"\r\n      title=\"分配角色\"\r\n      width=\"35%\"\r\n    >\r\n      <el-form :model=\"giveForm\" label-width=\"100px\" ref=\"giveFormRef\">\r\n        <el-form-item label=\"当前账号:\">\r\n          <span>{{ giveForm.account }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前用户:\">\r\n          <span>{{ giveForm.username }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前角色:\">\r\n          <span>{{ giveForm.roles }} </span>\r\n        </el-form-item>\r\n        <el-form-item label=\"分配新角色:\">\r\n          <el-select\r\n            multiple\r\n            v-model=\"giveForm.newrole\"\r\n            collapse-tags\r\n            placeholder=\"请选择角色\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in rolelist\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span class=\"dialog-footer\" slot=\"footer\">\r\n        <el-button @click=\"giveDialogVisible = false\">取 消</el-button>\r\n        <el-button @click=\"giveRole()\" type=\"primary\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getUserList, addUser, editUser, changeStatus, deleteUser, giveRoles } from '@/api/user'\r\nimport { getRoleList } from '@/api/role'\r\nimport { param } from '@/utils'\r\n\r\n\r\nexport default {\r\n  data() {\r\n    //验证邮箱的规则\r\n    var checkEmail = (rule, value, cb) => {\r\n      const regEmail = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/\r\n      if (regEmail.test(value)) {\r\n        // 合法\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的邮箱'))\r\n    }\r\n    //验证手机号的规则\r\n    var checkMobile = (rule, value, cb) => {\r\n      const regMobile = /^((13[0-9])|(14[5,7,9])|(15[^4])|(18[0-9])|(17[0,1,3,5,6,7,8]))[0-9]{8}$/\r\n      if (regMobile.test(value)) {\r\n        // 合法\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的手机号'))\r\n    }\r\n\r\n    return {\r\n      //获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: '', //查询参数\r\n        pagenum: 1, //当前页数\r\n        pagesize: 5 //当前每页显示条数\r\n      },\r\n      userlist: [],\r\n      rolelist: [],\r\n      total: 0,\r\n      // 控制是否显示添加用户对话框\r\n      addDialogVisible: false,\r\n      // 控制是否显示修改用户对话框\r\n      editDialogVisible: false,\r\n      //控制是否显示分配用户角色对话框\r\n      giveDialogVisible: false,\r\n      // 添加用户的表单数据\r\n      addForm: {\r\n        account: '',\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        remark: ''\r\n      },\r\n      // 修改用户的表单数据\r\n      editForm: {\r\n        account: '',\r\n        userid: '',\r\n        username: '',\r\n        email: '',\r\n        remark: ''\r\n      },\r\n      //给用户分配角色\r\n      giveForm: {\r\n        userid: '',\r\n        account: '',\r\n        username: '',\r\n        roles: '',\r\n        newrole: []\r\n      },\r\n      // 级联器配置对象\r\n      // cateProps: {\r\n      //   value: 'cat_id', \r\n      //   label: 'cat_name',\r\n      //   children: 'children'\r\n      // },\r\n      // 添加用户表单的验证规则对象\r\n      addFormRules: {\r\n        // 验证用户名是否合法\r\n        account: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' },\r\n        ],\r\n        // 验证用户名是否合法\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n        ],\r\n        //  验证密码是否合法\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '请输入邮箱',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkEmail,\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        // mobile: [\r\n        //   {\r\n        //     required: true,\r\n        //     message: '请输入手机号',\r\n        //     trigger: 'blur'\r\n        //   },\r\n        //   {\r\n        //     validator: checkMobile,\r\n        //     trigger: 'blur'\r\n        //   }\r\n        // ]\r\n      },\r\n      // 编辑信息验证规则\r\n      editFormRules: {\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '请输入邮箱',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            validator: checkEmail,\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        // mobile: [\r\n        //   {\r\n        //     required: true,\r\n        //     message: '请输入手机号',\r\n        //     trigger: 'blur'\r\n        //   },\r\n        //   {\r\n        //     validator: checkMobile,\r\n        //     trigger: 'blur'\r\n        //   }\r\n        // ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList()\r\n    this.getRoleList()\r\n  },\r\n  methods: {\r\n    //获取角色列表信息\r\n    async getRoleList() {\r\n      const res = await getRoleList()\r\n      if (res.status == 201) {\r\n        return this.$message.error('获取角色列表失败')\r\n      }\r\n      this.rolelist = res.response\r\n    },\r\n    //获取用户信息\r\n    async getUserList() {\r\n      const res = await getUserList(this.queryInfo)\r\n      this.userlist = res.response.userList\r\n      this.total = res.response.totalpage\r\n    },\r\n    // 监听pagesize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getUserList() //最新数据\r\n    },\r\n    // 监听页码值改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage\r\n      this.getUserList() //最新数据\r\n    },\r\n    //监听 switch开关状态的改变\r\n    async userStateChanged(userinfo) {\r\n      const res = await changeStatus(\r\n        {\r\n          //这是get请求传参方法 其中参数还是动态的 需要用反引号 \r\n          userid: `${userinfo.id}`, //使用反引号 动态参数拼接\r\n          status: `${userinfo.status}`\r\n        }\r\n      )\r\n      if (res.status == 201) {\r\n        // userinfo.status = !userinfo.status //失败的话就返回之前的结果 用于bool\r\n        if (userinfo.status == '1') {\r\n          userinfo.status = '0'\r\n        } else {\r\n          userinfo.status = '1'\r\n        }\r\n        return this.$message.error('更新用户状态失败!')\r\n      }\r\n      this.$message.success('更新用户状态成功!')\r\n    },\r\n    // 监听添加用户对话框关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields() //表单重置\r\n    },\r\n    // 监听添加用户对话框关闭事件\r\n    giveDialogClosed() {\r\n      this.giveForm.newrole = 0\r\n    },\r\n    // 点击按钮,添加新用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async vaild => {\r\n        if (!vaild) {\r\n          return\r\n        }\r\n        //发起添加用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n        console.log(this.addForm);\r\n        const res = await addUser(this.addForm)\r\n        if (res.status == 201) {\r\n          return this.$message.error('添加失败')\r\n        }\r\n        this.$message.success('添加成功')\r\n\r\n        //隐藏添加用户对话框\r\n        this.addDialogVisible = false\r\n        //刷新列表 重新调用getUserList\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 显示编辑用户对话框 这边直接使用页面的本地数据 请求数据库可以保证数据的时效性\r\n    showEditDialog(row) {\r\n      this.editDialogVisible = true\r\n      this.editForm.userid = row.id\r\n      this.editForm.account = row.account\r\n      this.editForm.username = row.userName\r\n      this.editForm.email = row.email\r\n      this.editForm.remark = row.reMark\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改用户信息并提交\r\n    editUser() {\r\n      this.$refs.editFormRef.validate(async vaild => {\r\n        if (!vaild) {\r\n          return\r\n        }\r\n        const res = await editUser(this.editForm)\r\n        if (res.status == 201) {\r\n          return this.$message.error('修改失败')\r\n        }\r\n        this.$message.success('修改成功')\r\n        //隐藏添加用户对话框\r\n        this.editDialogVisible = false\r\n        //刷新列表 重新调用getUserList\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 根据用户删除对应的用户 弹框全局可用\r\n    async removeUserById(id) {\r\n      const result = await this.$confirm(\r\n        '此操作将永久删除该用户, 是否继续?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).catch(err => {\r\n        return err\r\n      })\r\n      // 如果用户点击确认贼返回字符串 confirm\r\n      // cancel 取消删除\r\n      if (result !== 'confirm') {\r\n        return this.$message.info('已经取消删除')\r\n      }\r\n      //发起修改用户的网路请求 post请求返回promise对象 简化promise操作 解构data属性重命名为Res\r\n      const res = await deleteUser(id)\r\n      if (res.status == 201) {\r\n        return this.$message.error('删除失败')\r\n      }\r\n      this.$message.success('删除成功')\r\n      //刷新列表 重新调用getUserList\r\n      this.getUserList()\r\n    },\r\n    //显示分配角色对话框\r\n    showGiveRoleDialog(row) {\r\n      this.giveForm.userid = row.id\r\n      this.giveForm.account = row.account\r\n      this.giveForm.username = row.userName\r\n      this.giveForm.roles = row.roles\r\n      this.giveDialogVisible = true\r\n    },\r\n    //分配角色\r\n    async giveRole() {\r\n      const res = await giveRoles({ userid: this.giveForm.userid, newrole: this.giveForm.newrole })\r\n      if (res.status == 201) {\r\n        return this.$message.error('分配角色失败')\r\n      }\r\n      this.$message.success('分配角色成功')\r\n      this.getUserList()\r\n      //关闭对话框\r\n      this.giveDialogVisible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>"]}]}